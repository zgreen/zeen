{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 42be3bed65e678b44bd4","webpack:///./bin/src/index.js","webpack:///./bin/src/help.js","webpack:///external \"chalk\"","webpack:///external \"fs\"","webpack:///external \"minimist\"","webpack:///external \"path\"","webpack:///./bin/src/deletePost.js","webpack:///./bin/src/writer.js","webpack:///./src/posts.json","webpack:///external \"child_process\"","webpack:///external \"readline\""],"names":["e","a","i","exports","modules","__webpack_require__","moduleId","installedModules","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_writer","_writer2","_help","_help2","_deletePost","_deletePost2","args","process","argv","slice","_","delete","all","exit","Object","defineProperty","value","console","log","chalk","yellow","bold","require","arguments","length","undefined","rl","readline","createInterface","input","stdin","output","stdout","question","answer","fs","writeFile","err","error","close","writeMarkdownPost","slug","title","JSON","stringify","postedDate","getMonth","getDate","getFullYear","writePostsJSON","update","publish","posts","_posts2","reduce","init","cur","idx","assign","isDraft","push","concat","draft","deploy","red","toLowerCase","replace","Date","cases","postExists","map","post","indexOf","terminal","spawn","keys","filter","curCase","promiser","func","Promise","resolve","reject","writer","writePost","logPost","then","green","write","end","_posts"],"mappings":"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","file":"index.js","sourcesContent":["(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/bin/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**************************!*\\\n  !*** ./bin/src/index.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _writer = __webpack_require__(/*! ./writer */ 7);\n\t\n\tvar _writer2 = _interopRequireDefault(_writer);\n\t\n\tvar _help = __webpack_require__(/*! ./help */ 1);\n\t\n\tvar _help2 = _interopRequireDefault(_help);\n\t\n\tvar _deletePost = __webpack_require__(/*! ./deletePost */ 6);\n\t\n\tvar _deletePost2 = _interopRequireDefault(_deletePost);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar args = __webpack_require__(/*! minimist */ 4)(process.argv.slice(2));\n\t\n\tswitch (args._[0]) {\n\t  case 'deploy':\n\t    (0, _writer2.default)(true);\n\t    break;\n\t  case 'post':\n\t    if (args.delete) {\n\t      (0, _deletePost2.default)(args.all);\n\t    } else {\n\t      (0, _writer2.default)();\n\t    }\n\t    break;\n\t  default:\n\t    (0, _help2.default)();\n\t    process.exit(1);\n\t}\n\n/***/ },\n/* 1 */\n/*!*************************!*\\\n  !*** ./bin/src/help.js ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  console.log(chalk.yellow('\\n' + chalk.bold('# zeen Help') + '\\n\\n--title={TITLE}          Create a new post of {TITLE}\\n--is-draft               Create a draft post\\n--publish                Publish a previously drafted post\\n'));\n\t};\n\t\n\tvar chalk = __webpack_require__(/*! chalk */ 2);\n\n/***/ },\n/* 2 */\n/*!************************!*\\\n  !*** external \"chalk\" ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"chalk\");\n\n/***/ },\n/* 3 */\n/*!*********************!*\\\n  !*** external \"fs\" ***!\n  \\*********************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 4 */\n/*!***************************!*\\\n  !*** external \"minimist\" ***!\n  \\***************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"minimist\");\n\n/***/ },\n/* 5 */\n/*!***********************!*\\\n  !*** external \"path\" ***!\n  \\***********************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 6 */\n/*!*******************************!*\\\n  !*** ./bin/src/deletePost.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\n\t  if (all) {\n\t    (function () {\n\t      var rl = readline.createInterface({\n\t        input: process.stdin,\n\t        output: process.stdout\n\t      });\n\t      rl.question('Are you sure you want to delete everything? (yes/no)\\n', function (answer) {\n\t        if (answer === 'yes') {\n\t          fs.writeFile('src/posts.json', '[]', function (err) {\n\t            if (err) {\n\t              console.error('Error: ' + err);\n\t            }\n\t          });\n\t          console.log('Okay, everything will be deleted.');\n\t        } else {\n\t          console.log('Okay, nothing will be deleted.');\n\t        }\n\t        rl.close();\n\t      });\n\t    })();\n\t  } else {\n\t    process.exit(1);\n\t  }\n\t};\n\t\n\tvar fs = __webpack_require__(/*! fs */ 3);\n\tvar path = __webpack_require__(/*! path */ 5);\n\tvar readline = __webpack_require__(/*! readline */ 10);\n\n/***/ },\n/* 7 */\n/*!***************************!*\\\n  !*** ./bin/src/writer.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  var deploy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\n\t  // Bail if no title\n\t  if (!args.title) {\n\t    console.error(chalk.red(chalk.bold('Error') + ': to create a new post, you must provide a title.'));\n\t    (0, _help2.default)();\n\t    process.exit(1);\n\t  }\n\t  var slug = args.title.toLowerCase().replace(/[^a-zA-Z\\d]/g, '-').replace(/-{2,}/g, '-').replace(/^-|-$/g, '');\n\t  var postedDate = new Date();\n\t\n\t  function writeMarkdownPost() {\n\t    fs.writeFile('src/posts/' + slug + '.md', '# ' + args.title + '\\n  <time datetime=' + JSON.stringify(postedDate) + '>' + (postedDate.getMonth() + 1) + '/' + postedDate.getDate() + '/' + postedDate.getFullYear() + '</time>\\n      ', function (err) {\n\t      if (err) {\n\t        console.log(err);\n\t        return false;\n\t      }\n\t      return true;\n\t    });\n\t  }\n\t\n\t  function writePostsJSON(update, title, publish) {\n\t    var posts = update ? _posts2.default.reduce(function (init, cur, idx) {\n\t      if (cur.slug === update) {\n\t        cur = Object.assign({}, cur, { title: title });\n\t        if (cur.isDraft && publish) {\n\t          cur.isDraft = false;\n\t        }\n\t      }\n\t      init.push(cur);\n\t      return init;\n\t    }, []) : _posts2.default.concat({\n\t      isDraft: args.draft,\n\t      postedDate: postedDate,\n\t      slug: slug,\n\t      title: args.title\n\t    });\n\t    fs.writeFile('src/posts.json', JSON.stringify(posts), function (err) {\n\t      if (err) {\n\t        console.log(err);\n\t        return false;\n\t      }\n\t      return true;\n\t    });\n\t  }\n\t  var cases = {\n\t    update: args.update,\n\t    postExists: _posts2.default.map(function (post) {\n\t      return post.slug;\n\t    }).indexOf(slug) !== -1,\n\t    default: true\n\t  };\n\t  var terminal = __webpack_require__(/*! child_process */ 9).spawn('bash');\n\t  switch (Object.keys(cases).filter(function (curCase) {\n\t    return cases[curCase];\n\t  })[0]) {\n\t    case 'update':\n\t      writePostsJSON(args.update, args.title, args.publish);\n\t      break;\n\t    case 'postExists':\n\t      console.error(chalk.red(chalk.bold('Error:') + ' A post with that title already exists. Please choose a new title.'));\n\t      break;\n\t    default:\n\t      var promiser = function promiser(func) {\n\t        return new Promise(function (resolve, reject) {\n\t          var writer = func();\n\t          if (writer) {\n\t            reject(writer);\n\t          } else {\n\t            resolve(writer);\n\t          }\n\t        });\n\t      };\n\t\n\t      var writePost = promiser(writeMarkdownPost);\n\t      var logPost = promiser(writePostsJSON);\n\t      writePost.then(logPost).then(console.log(chalk.green('Post: \"' + args.title + '\" successfully written and logged.')));\n\t      if (deploy) {\n\t        console.log('go deploy');\n\t        terminal.stdin.write('npm run build');\n\t        terminal.stdin.end();\n\t      }\n\t  }\n\t};\n\t\n\tvar _help = __webpack_require__(/*! ./help */ 1);\n\t\n\tvar _help2 = _interopRequireDefault(_help);\n\t\n\tvar _posts = __webpack_require__(/*! ../../src/posts.json */ 8);\n\t\n\tvar _posts2 = _interopRequireDefault(_posts);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fs = __webpack_require__(/*! fs */ 3);\n\tvar path = __webpack_require__(/*! path */ 5);\n\tvar chalk = __webpack_require__(/*! chalk */ 2);\n\tvar args = Object.assign({}, { draft: false }, __webpack_require__(/*! minimist */ 4)(process.argv.slice(2)));\n\n/***/ },\n/* 8 */\n/*!************************!*\\\n  !*** ./src/posts.json ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = [];\n\n/***/ },\n/* 9 */\n/*!********************************!*\\\n  !*** external \"child_process\" ***!\n  \\********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"child_process\");\n\n/***/ },\n/* 10 */\n/*!***************************!*\\\n  !*** external \"readline\" ***!\n  \\***************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ }\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/bin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42be3bed65e678b44bd4","import writer from './writer'\nimport help from './help'\nimport deletePost from './deletePost'\nconst args = require('minimist')(process.argv.slice(2))\n\nswitch (args._[0]) {\n  case 'deploy':\n    writer(true)\n    break\n  case 'post':\n    if (args.delete) {\n      deletePost(args.all)\n    } else {\n      writer()\n    }\n    break\n  default:\n    help()\n    process.exit(1)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./bin/src/index.js","const chalk = require('chalk')\n\nexport default function () {\n  console.log(chalk.yellow(`\n${chalk.bold('# zeen Help')}\n\n--title={TITLE}          Create a new post of {TITLE}\n--is-draft               Create a draft post\n--publish                Publish a previously drafted post\n`))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./bin/src/help.js","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"minimist\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"minimist\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 5\n// module chunks = 0","const fs = require('fs')\nconst path = require('path')\nconst readline = require('readline')\n\nexport default function (all = false) {\n  if (all) {\n    const rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout\n    })\n    rl.question('Are you sure you want to delete everything? (yes/no)\\n', (answer) => {\n      if (answer === 'yes') {\n        fs.writeFile('src/posts.json', '[]', (err) => {\n          if (err) {\n            console.error(`Error: ${err}`)\n          }\n        })\n        console.log('Okay, everything will be deleted.')\n      } else {\n        console.log('Okay, nothing will be deleted.')\n      }\n      rl.close()\n    })\n  } else {\n    process.exit(1)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./bin/src/deletePost.js","import help from './help'\nimport curPosts from '../../src/posts.json'\nconst fs = require('fs')\nconst path = require('path')\nconst chalk = require('chalk')\nconst args = Object.assign(\n  {},\n  { draft: false },\n  require('minimist')(process.argv.slice(2))\n)\nexport default function (deploy = false) {\n  // Bail if no title\n  if (!args.title) {\n    console.error(chalk.red(\n      `${chalk.bold('Error')}: to create a new post, you must provide a title.`\n    ))\n    help()\n    process.exit(1)\n  }\n  const slug = args.title\n    .toLowerCase()\n    .replace(/[^a-zA-Z\\d]/g, '-')\n    .replace(/-{2,}/g, '-')\n    .replace(/^-|-$/g, '')\n  const postedDate = new Date()\n\n  function writeMarkdownPost() {\n    fs.writeFile(\n      `src/posts/${slug}.md`,\n      `# ${args.title}\n  <time datetime=${JSON.stringify(postedDate)}>${postedDate.getMonth() + 1}/${postedDate.getDate()}/${postedDate.getFullYear()}</time>\n      `,\n      (err) => {\n        if (err) {\n          console.log(err)\n          return false\n        }\n        return true\n      }\n    )\n  }\n\n  function writePostsJSON(update, title, publish) {\n    const posts = update\n      ? curPosts.reduce((init, cur, idx) => {\n          if (cur.slug === update) {\n            cur = Object.assign({}, cur, { title })\n            if (cur.isDraft && publish) {\n              cur.isDraft = false\n            }\n          }\n          init.push(cur)\n          return init\n        }, [])\n      : curPosts.concat(\n          {\n            isDraft: args.draft,\n            postedDate,\n            slug,\n            title: args.title\n          }\n        )\n    fs.writeFile(\n      `src/posts.json`,\n      JSON.stringify(posts),\n      (err) => {\n        if (err) {\n          console.log(err)\n          return false\n        }\n        return true\n      }\n    )\n  }\n  const cases = {\n    update: args.update,\n    postExists: curPosts.map((post) => post.slug).indexOf(slug) !== -1,\n    default: true\n  }\n  const terminal = require('child_process').spawn('bash')\n  switch (Object.keys(cases).filter((curCase) => cases[curCase])[0]) {\n    case 'update':\n      writePostsJSON(args.update, args.title, args.publish)\n      break\n    case 'postExists':\n      console.error(chalk.red(\n        `${chalk.bold('Error:')} A post with that title already exists. Please choose a new title.`\n      ))\n      break\n    default:\n      function promiser(func) {\n        return new Promise((resolve, reject) => {\n          const writer = func()\n          if (writer) {\n            reject(writer)\n          } else {\n            resolve(writer)\n          }\n        })\n      }\n      const writePost = promiser(writeMarkdownPost)\n      const logPost = promiser(writePostsJSON)\n      writePost\n        .then(logPost)\n        .then(console.log(chalk.green(\n          `Post: \"${args.title}\" successfully written and logged.`\n        )))\n      if (deploy) {\n        console.log('go deploy')\n        terminal.stdin.write('npm run build')\n        terminal.stdin.end()\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./bin/src/writer.js","module.exports = [];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/posts.json\n// module id = 8\n// module chunks = 0","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"readline\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"readline\"\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}